<form (ngSubmit)="handleRegisterForm()" [formGroup]="registerForm">


    <div>
        <label for="name"> Name: </label>
        <input type="text" name="name" id="name" class="form-control" formControlName="name">

        <div *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched" class="alert alert-danger mt-2">
            <p *ngIf="registerForm.get('name')?.getError('required')"> Name is Required</p>
            <p *ngIf="registerForm.get('name')?.getError('minlength')"> Please enter  at least 3 characters.</p>
            <p *ngIf="registerForm.get('name')?.getError('maxlength')"> Maxiumum is 10 characters.</p>
        </div>
    </div>

    <div>
        <label for="email"> Email: </label>
        <input type="text" name="email" id="email" class="form-control" formControlName="email">

        
        <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched" class="alert alert-danger mt-2">
            <p *ngIf="registerForm.get('email')?.getError('required')"> Email is Required</p>
            <p *ngIf="registerForm.get('email')?.getError('email')"> Invalid E-mail.</p>
        </div>
    </div>

    <div>
        <label for="password"> Password: </label>
        <input type="password" name="password" id="password" class="form-control" formControlName="password">

                
        <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched" class="alert alert-danger mt-2">
            <p *ngIf="registerForm.get('password')?.getError('required')"> Password is Required</p>
            <p *ngIf="registerForm.get('password')?.getError('pattern')"> You need 6 characters for a valid password.</p>
            <p *ngIf="registerForm.get('password')?.getError('mismatch')"> Must match the password.</p>
        </div>
    </div>

    <div>
        <label for="rePassword"> Re-Password: </label>
        <input type="password" name="rePassword" id="rePassword" class="form-control" formControlName="rePassword">

        <div *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched" class="alert alert-danger mt-2">
            <p *ngIf="registerForm.get('rePassword')?.getError('required')"> Please write the entered password.</p>
            <p *ngIf="registerForm.get('rePassword')?.getError('pattern')"> You need 6 characters for a valid password.</p>
            <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')"> Must match the password.</p>
        </div>
    </div>

    <div>
        <label for="phone"> Phone: </label>
        <input type="tel" name="phone" id="phone" class="form-control" formControlName="phone">

        <div *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched" class="alert alert-danger mt-2">
            <p *ngIf="registerForm.get('phone')?.getError('required')"> Invalid phone number.</p>
            <p *ngIf="registerForm.get('phone')?.getError('pattern')"> Incorrect pattern, make sure the number is egyptian.</p>
        </div>
    </div>

    <button [disabled]="registerForm.invalid" class="btn bg-main text-white d-block ms-auto mt-2">Register
            <i *ngIf="isLoading" class="fa fa-spin fa-spinner"></i>
    </button>

    <p *ngIf="errorMsg" class="alert alert-danger">{{errorMsg}}</p>
</form>